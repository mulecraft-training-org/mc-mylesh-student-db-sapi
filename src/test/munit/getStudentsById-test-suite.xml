<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:munit="http://www.mulesoft.org/schema/mule/munit" xmlns:munit-tools="http://www.mulesoft.org/schema/mule/munit-tools"
	xmlns="http://www.mulesoft.org/schema/mule/core" xmlns:doc="http://www.mulesoft.org/schema/mule/documentation"
	xsi:schemaLocation="
		http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
		http://www.mulesoft.org/schema/mule/munit http://www.mulesoft.org/schema/mule/munit/current/mule-munit.xsd
		http://www.mulesoft.org/schema/mule/munit-tools  http://www.mulesoft.org/schema/mule/munit-tools/current/mule-munit-tools.xsd">
	<munit:config name="getStudentsById-test-suite.xml" />
	<munit:before-test name="getStudentsById-test-suiteBefore_Test" doc:id="b2d2bb7f-9eaf-4a2e-b14c-46f665a27f41" >
		<munit:set-event doc:name="Set Event" doc:id="dfcbe6f6-c14f-44e3-ade4-0bbe342a8d54">
				<munit:attributes value="#[{headers : {'TrackingId' : 'getStudentById@123'},uriParams : {'studentId' : 7}}]" />
			</munit:set-event>
	</munit:before-test>
	<munit:test name="getStudentsById-test-suite-get:\students\(studentId):student-management-api-configTest" doc:id="bad076dd-50fb-44ba-9fe8-2523173b1ac7" description="Test" ignore="true">
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="440e1afd-0ca3-447b-9b5c-8d7c9576ead2" processor="until-successful">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="f50fbd5f-5dda-4bc5-9ae5-c1f6f29d01be" attributeName="doc:id" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:payload value='#[[&#10;    {&#10;        "student_id": 7,&#10;        "first_name": "Michael",&#10;        "last_name": "Lee",&#10;        "email_id": "michael.lee@kurinji.com",&#10;        "school_name": "Kurinji",&#10;        "trainer_id": 1,&#10;        "enrollment_date": "2024-10-01",&#10;        "status": "process",&#10;        "course_id": 107&#10;    }&#10;]]' mediaType="application/json" encoding="UTF-8" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
			<munit-tools:spy doc:name="Spy" doc:id="f169446f-b1b4-43b8-8bdf-4ceb6c60814a" processor="ee:transform">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="eebbb3e3-0fb8-4aa6-9280-8e6749636d14" attributeName="doc:id" />
				</munit-tools:with-attributes>
				<munit-tools:before-call >
					<munit-tools:assert doc:name="Assert expression" doc:id="c1c13081-6b94-44f9-a04d-f214e4a32758">
				<munit-tools:that><![CDATA[#[import * from dw::test::Asserts 
 ---
payload must beArray()]]]></munit-tools:that>
			</munit-tools:assert>
				</munit-tools:before-call>
				<munit-tools:after-call>
					<munit-tools:assert doc:name="Assert expression" doc:id="a6a0e008-cfff-4146-a040-2095221dc617" >
						<munit-tools:that ><![CDATA[#[import * from dw::test::Asserts 
 ---
payload must beArray()]]]></munit-tools:that>
					</munit-tools:assert>
				</munit-tools:after-call>
			</munit-tools:spy>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow-ref to get:\students\(studentId):student-management-api-config" doc:id="97d63a57-c0e4-4438-9cb0-81fc75bbf16c" name="get:\students\(studentId):student-management-api-config"/>
		</munit:execution>
		<munit:validation >
			<munit-tools:verify-call doc:name="Verify call" doc:id="a1486edd-5ec0-4627-aeef-9df7b1b59602" processor="logger">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="215935d4-27e0-4d73-8805-4c25db5dd260" attributeName="doc:id" />
				</munit-tools:with-attributes>
			</munit-tools:verify-call>
		</munit:validation>
	</munit:test>
	<munit:test name="getStudentsById-test-suiteTest" doc:id="bb050723-df56-464a-81fa-b705adb81d9d" >
		<munit:behavior >
			<munit-tools:mock-when doc:name="Mock when" doc:id="e0892aac-d7be-45b6-b35c-9ba68ceeab68" processor="db:select">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="09d70e3d-6491-4e19-869c-feb2f9ebcbe5" attributeName="doc:id" />
				</munit-tools:with-attributes>
				<munit-tools:then-return >
					<munit-tools:error typeId="DB:CONNECTIVITY" />
				</munit-tools:then-return>
			</munit-tools:mock-when>
		</munit:behavior>
		<munit:execution >
			<flow-ref doc:name="Flow Reference" doc:id="e96648e1-b4e8-4b51-8d78-7d2405248400" name="get:\students\(studentId):student-management-api-config"/>
		</munit:execution>
		<munit:validation >
			<munit-tools:verify-call doc:name="Verify call" doc:id="f86fa0db-6202-4b26-a6ed-65fb7eddee1f" processor="logger">
				<munit-tools:with-attributes >
					<munit-tools:with-attribute whereValue="215935d4-27e0-4d73-8805-4c25db5dd260" attributeName="doc:id" />
				</munit-tools:with-attributes>
			</munit-tools:verify-call>
		</munit:validation>
	</munit:test>


</mule>
